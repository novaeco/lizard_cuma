
# partitions.csv - Partitions ESP32-S3 pour projet (16 MB Flash default)
# Raisonnement : Ajout OTA pour maintenabilité (updates sans fil), NVS sécurisé, app0/app1 pour rollback.
# Optimisation : Taille minimale pour low-flash ; résilience via dual app.
# Piège : Sans OTA, updates manuelles risquées ; activez CONFIG_PARTITION_TABLE_TWO_OTA via menuconfig.

# Name, Type, SubType, Offset, Size, Flags
nvs,      data, nvs,     0x9000,  0x6000,  # NVS sécurisé (clés Wi-Fi chiffrées)
phy_init, data, phy,     ,        0x1000,  # PHY data
factory,  app,  factory, ,        0x300000,# App principale (3 MB)
ota_0,    app,  ota_0,   ,        0x300000,# OTA slot 1
ota_1,    app,  ota_1,   ,        0x300000,# OTA slot 2 (rollback)
storage,  data, fat,     ,        0x100000,# Stockage data (logs JSON fallback si SD fail)
